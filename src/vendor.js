/* This Source Code Form is subject to the terms of the Mozilla Public
 * License, v. 2.0. If a copy of the MPL was not distributed with this
 * file, You can obtain one at https://mozilla.org/MPL/2.0/. */

// Code from check.ege.edu.ru site

module.exports.Regions = [{
    "REGION": 1,
    "RegionName": "Республика Адыгея",
    "Enable": true
}, {
    "REGION": 2,
    "RegionName": "Республика Башкортостан",
    "Enable": true
}, {
    "REGION": 3,
    "RegionName": "Республика Бурятия",
    "Enable": true
}, {
    "REGION": 4,
    "RegionName": "Республика Алтай",
    "Enable": true
}, {
    "REGION": 5,
    "RegionName": "Республика Дагестан",
    "Enable": true
}, {
    "REGION": 6,
    "RegionName": "Республика Ингушетия",
    "Enable": true
}, {
    "REGION": 7,
    "RegionName": "Кабардино-Балкарская Республика",
    "Enable": true
}, {
    "REGION": 8,
    "RegionName": "Республика Калмыкия",
    "Enable": true
}, {
    "REGION": 9,
    "RegionName": "Карачаево-Черкесская Республика",
    "Enable": true
}, {
    "REGION": 10,
    "RegionName": "Республика Карелия",
    "Enable": true
}, {
    "REGION": 11,
    "RegionName": "Республика Коми",
    "Enable": true
}, {
    "REGION": 12,
    "RegionName": "Республика Марий Эл",
    "Enable": true
}, {
    "REGION": 13,
    "RegionName": "Республика Мордовия",
    "Enable": true
}, {
    "REGION": 14,
    "RegionName": "Республика Саха (Якутия)",
    "Enable": true
}, {
    "REGION": 15,
    "RegionName": "Республика Северная Осетия",
    "Enable": true
}, {
    "REGION": 16,
    "RegionName": "Республика Татарстан",
    "Enable": true
}, {
    "REGION": 17,
    "RegionName": "Республика Тыва",
    "Enable": true
}, {
    "REGION": 18,
    "RegionName": "Удмуртская Республика",
    "Enable": true
}, {
    "REGION": 19,
    "RegionName": "Республика Хакасия",
    "Enable": true
}, {
    "REGION": 20,
    "RegionName": "Чеченская Республика",
    "Enable": true
}, {
    "REGION": 21,
    "RegionName": "Чувашская Республика",
    "Enable": true
}, {
    "REGION": 22,
    "RegionName": "Алтайский край",
    "Enable": true
}, {
    "REGION": 23,
    "RegionName": "Краснодарский край",
    "Enable": true
}, {
    "REGION": 24,
    "RegionName": "Красноярский край",
    "Enable": true
}, {
    "REGION": 25,
    "RegionName": "Приморский край",
    "Enable": true
}, {
    "REGION": 26,
    "RegionName": "Ставропольский край",
    "Enable": true
}, {
    "REGION": 27,
    "RegionName": "Хабаровский край",
    "Enable": true
}, {
    "REGION": 28,
    "RegionName": "Амурская область",
    "Enable": true
}, {
    "REGION": 29,
    "RegionName": "Архангельская область",
    "Enable": true
}, {
    "REGION": 30,
    "RegionName": "Астраханская область",
    "Enable": true
}, {
    "REGION": 31,
    "RegionName": "Белгородская область",
    "Enable": true
}, {
    "REGION": 32,
    "RegionName": "Брянская область",
    "Enable": true
}, {
    "REGION": 33,
    "RegionName": "Владимирская область",
    "Enable": true
}, {
    "REGION": 34,
    "RegionName": "Волгоградская область",
    "Enable": true
}, {
    "REGION": 35,
    "RegionName": "Вологодская область",
    "Enable": true
}, {
    "REGION": 36,
    "RegionName": "Воронежская область",
    "Enable": true
}, {
    "REGION": 37,
    "RegionName": "Ивановская область",
    "Enable": true
}, {
    "REGION": 38,
    "RegionName": "Иркутская область",
    "Enable": true
}, {
    "REGION": 39,
    "RegionName": "Калининградская область",
    "Enable": true
}, {
    "REGION": 40,
    "RegionName": "Калужская область",
    "Enable": true
}, {
    "REGION": 41,
    "RegionName": "Камчатский край",
    "Enable": true
}, {
    "REGION": 42,
    "RegionName": "Кемеровская область",
    "Enable": true
}, {
    "REGION": 43,
    "RegionName": "Кировская область",
    "Enable": true
}, {
    "REGION": 44,
    "RegionName": "Костромская область",
    "Enable": true
}, {
    "REGION": 45,
    "RegionName": "Курганская область",
    "Enable": true
}, {
    "REGION": 46,
    "RegionName": "Курская область",
    "Enable": true
}, {
    "REGION": 47,
    "RegionName": "Ленинградская область",
    "Enable": true
}, {
    "REGION": 48,
    "RegionName": "Липецкая область",
    "Enable": true
}, {
    "REGION": 49,
    "RegionName": "Магаданская область",
    "Enable": true
}, {
    "REGION": 50,
    "RegionName": "Московская область",
    "Enable": true
}, {
    "REGION": 51,
    "RegionName": "Мурманская область",
    "Enable": true
}, {
    "REGION": 52,
    "RegionName": "Нижегородская область",
    "Enable": true
}, {
    "REGION": 53,
    "RegionName": "Новгородская область",
    "Enable": true
}, {
    "REGION": 54,
    "RegionName": "Новосибирская область",
    "Enable": true
}, {
    "REGION": 55,
    "RegionName": "Омская область",
    "Enable": true
}, {
    "REGION": 56,
    "RegionName": "Оренбургская область",
    "Enable": true
}, {
    "REGION": 57,
    "RegionName": "Орловская область",
    "Enable": true
}, {
    "REGION": 58,
    "RegionName": "Пензенская область",
    "Enable": true
}, {
    "REGION": 59,
    "RegionName": "Пермский край",
    "Enable": true
}, {
    "REGION": 60,
    "RegionName": "Псковская область",
    "Enable": true
}, {
    "REGION": 61,
    "RegionName": "Ростовская область",
    "Enable": true
}, {
    "REGION": 62,
    "RegionName": "Рязанская область",
    "Enable": true
}, {
    "REGION": 63,
    "RegionName": "Самарская область",
    "Enable": true
}, {
    "REGION": 64,
    "RegionName": "Саратовская область",
    "Enable": true
}, {
    "REGION": 65,
    "RegionName": "Сахалинская область",
    "Enable": true
}, {
    "REGION": 66,
    "RegionName": "Свердловская область",
    "Enable": true
}, {
    "REGION": 67,
    "RegionName": "Смоленская область",
    "Enable": true
}, {
    "REGION": 68,
    "RegionName": "Тамбовская область",
    "Enable": true
}, {
    "REGION": 69,
    "RegionName": "Тверская область",
    "Enable": true
}, {
    "REGION": 70,
    "RegionName": "Томская область",
    "Enable": true
}, {
    "REGION": 71,
    "RegionName": "Тульская область",
    "Enable": true
}, {
    "REGION": 72,
    "RegionName": "Тюменская область",
    "Enable": true
}, {
    "REGION": 73,
    "RegionName": "Ульяновская область",
    "Enable": true
}, {
    "REGION": 74,
    "RegionName": "Челябинская область",
    "Enable": true
}, {
    "REGION": 75,
    "RegionName": "Забайкальский край",
    "Enable": true
}, {
    "REGION": 76,
    "RegionName": "Ярославская область",
    "Enable": true
}, {
    "REGION": 77,
    "RegionName": "г. Москва",
    "Enable": true
}, {
    "REGION": 78,
    "RegionName": "г. Санкт-Петербург",
    "Enable": true
}, {
    "REGION": 79,
    "RegionName": "Еврейская автономная область",
    "Enable": true
}, {
    "REGION": 82,
    "RegionName": "Республика Крым",
    "Enable": true
}, {
    "REGION": 83,
    "RegionName": "Ненецкий автономный округ",
    "Enable": true
}, {
    "REGION": 86,
    "RegionName": "Ханты-Мансийский автономный округ",
    "Enable": true
}, {
    "REGION": 87,
    "RegionName": "Чукотский автономный округ",
    "Enable": true
}, {
    "REGION": 89,
    "RegionName": "Ямало-Ненецкий автономный округ",
    "Enable": true
}, {
    "REGION": 90,
    "RegionName": "ОУ, находящиеся за пределами РФ",
    "Enable": true
}, {
    "REGION": 92,
    "RegionName": "г. Севастополь",
    "Enable": true
}].reduce(function (map, obj) {
    return {
        ...map,
        [obj.REGION]: obj.RegionName
    };
}, {});

module.exports.Appeal = [{
    "Status": 0,
    "Description": "Сформировано заявление участником"
}, {
    "Status": 1,
    "Description": "Сформировано заявление оператором"
}, {
    "Status": 2,
    "Description": "Отменена участником"
}, {
    "Status": 3,
    "Description": "Отменена оператором"
}, {
    "Status": 4,
    "Description": "Апелляция открыта участником заново"
}, {
    "Status": 5,
    "Description": "Апелляция открыта оператором заново"
}, {
    "Status": 10,
    "Description": "Сформировано заявление в РЦОИ"
}, {
    "Status": 11,
    "Description": "Распечатаны бланки"
}, {
    "Status": 12,
    "Description": "Введены данные"
}, {
    "Status": 20,
    "Description": "На обработке"
}, {
    "Status": 30,
    "Description": "Ожидание подтверждения"
}, {
    "Status": 32,
    "Description": "Введено подтверждение"
}, {
    "Status": 40,
    "Description": "Подтверждение на обработке"
}, {
    "Status": 52,
    "Description": "Создано блокирование"
}, {
    "Status": 60,
    "Description": "Блокирование на обработке"
}, {
    "Status": 100,
    "Description": "Удовлетворена"
}, {
    "Status": 101,
    "Description": "Отклонена конфликтной комиссией субъекта РФ"
}, {
    "Status": 103,
    "Description": "Заблокирована"
}, {
    "Status": 1000,
    "Description": "Задержана"
}].reduce(function (map, obj) {
    return {
        ...map,
        [obj.Status]: obj.Description
    };
}, {});

module.exports.cond = {
    basicMath: {
        minMark: 3
    },
    composition: {
        isPositive: function (mark) {
            if (mark && mark === 5) {
                return {
                    result: true,
                    string: 'зачёт'
                };
            }
            return {
                result: false,
                string: 'незачёт'
            };
        },
        minMark: 5
    }
};

module.exports.DateUtils = function () {
    var f = function (num) {
        return num < 10 ? '0' + num : num;
    };

    var dateToRuFormat = function (date) {
        var dateRegex = /^(\d\d\d\d)\-(\d\d)\-(\d\d)/;
        var match = dateRegex.exec(date);
        return [
            match[3], match[2],
            ...(Number(match[1]) !== new Date().getFullYear() ? [match[1]] : []), // PATCHED
        ].join('.');
    };

    var dateTimeToRuDateFormat = function (date) {
        date = new Date(date);
        return [f(date.getDate()), f(date.getMonth() + 1), date.getFullYear()].join('.');
    };

    var dateTimeToRuFormat = function (date) {
        date = new Date(date);
        return [f(date.getDate()), f(date.getMonth() + 1), date.getFullYear()].join('.') + ' ' +
            [f(date.getHours()), f(date.getMinutes()), f(date.getSeconds())].join(':');
    };

    return {
        dateToRuFormat: dateToRuFormat,
        dateTimeToRuDateFormat: dateTimeToRuDateFormat,
        dateTimeToRuFormat: dateTimeToRuFormat,
    };
}();